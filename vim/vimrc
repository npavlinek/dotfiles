call plug#begin()
Plug 'ctrlpvim/ctrlp.vim'
Plug 'gruvbox-community/gruvbox'
Plug 'guns/vim-sexp', { 'for': 'clojure' }
Plug 'lifepillar/vim-colortemplate'
Plug 'tpope/vim-fireplace', { 'for': 'clojure' }
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-sexp-mappings-for-regular-people', { 'for': 'clojure' }
call plug#end()

" Enable filetype support, supporting filetype-specific indentation, syntax highlighting and other
" goodies.
filetype plugin indent on

" Enable syntax highlighting, overriding current color settings with defaults.
syntax on

set autoindent
set autoread
set backspace=indent,eol,start
set colorcolumn=101
set completeopt=
set encoding=utf-8
set expandtab
set fileformats=unix,dos
set hidden
set ignorecase
set incsearch
set laststatus=2
set lazyredraw
set listchars=tab:→\ ,space:·
set nojoinspaces
set noshowcmd
set nowrap
set ruler
set shortmess+=I
set smartcase
set splitbelow
set splitright
set textwidth=100

set noexpandtab
set shiftwidth=4
set softtabstop=4
set tabstop=4

let &t_SI = '\<Esc>[6 q'
let &t_SR = '\<Esc>[4 q'
let &t_EI = '\<Esc>[2 q'

let c_space_errors = 1

if has('gui_running')
	set guioptions-=m
	set guioptions-=T
	set guioptions-=L
	set guioptions-=r

	set renderoptions=type:directx,renmode:5,taamode:1
	if has('win32')
		set guifont=Liberation_Mono:h10
	else
		set guifont=Comic\ Code\ 10
	endif
elseif has('win32')
	set termguicolors
endif

" silent! colorscheme midnight

let g:gruvbox_italicize_comments = 0
silent! colorscheme gruvbox
highlight Normal guibg=#000000
highlight StatusLine guifg=#1d2021
highlight VertSplit guibg=NONE
highlight Visual guifg=#076678 guibg=#ffffff

function! EscapeHtml()
	silent s/"/\&quot;/eg
	silent s/&/\&amp;/eg
	silent s/'/\&#039;/eg
	silent s/</\&lt;/eg
	silent s/>/\&gt;/eg
endfunction

" Make <Esc> properly exit insert mode in vertical block mode.
inoremap <C-c> <Esc>

nnoremap <C-p> :CtrlpPMixed<CR>
nnoremap <Leader>p "*p
nnoremap <Leader>y "*y
nnoremap <silent> <Leader><Leader> :nohl<CR>
nnoremap <silent> <Leader>q :set list!<CR>
nnoremap j gj
nnoremap k gk

vnoremap <Leader>s :sort<CR>
vnoremap <Leader>y "*y

" Workaround for a `vim-fireplace` bug.
if has('win32')
	let g:fireplace_python_executable = 'python'
endif
